# Decap CMS Configuration ‚Äì KP International School
# GitHub backend with editorial workflow
# Repo: ogi182006/Trendyclothes-new  |  Branch: main

backend:
  name: github
  repo: ogi182006/Trendyclothes-new
  branch: main
  site_domain: kpis.netlify.app  # Update to your deployed domain

# Allow drag-and-drop image uploads
media_folder: "static/uploads"
public_folder: "/uploads"

# Enable editorial workflow (draft ‚Üí review ‚Üí publish)
publish_mode: editorial_workflow

# ============================================================
# COLLECTIONS
# ============================================================

collections:

  # ----------------------------------------------------------
  # 1. PAGES ‚Äì Edit static page text content
  # ----------------------------------------------------------
  - name: "pages"
    label: "Pages"
    files:

      # Home Page
      - name: "home"
        label: "üè† Home Page"
        file: "_data/pages/home.json"
        fields:
          - { label: "Hero Title", name: "hero_title", widget: "string", default: "KP International School" }
          - { label: "Hero Tagline", name: "hero_tagline", widget: "string", default: "Empowering Minds, Building Futures" }
          - { label: "Hero Subtitle", name: "hero_subtitle", widget: "text", default: "A premier English-medium co-educational institution in Morija Village, Chomu, Jaipur." }
          - { label: "Welcome Heading", name: "welcome_heading", widget: "string", default: "A Place Where Every Child Thrives" }
          - { label: "Welcome Text", name: "welcome_text", widget: "markdown" }
          - label: "Quick Stats"
            name: "quick_stats"
            widget: "list"
            fields:
              - { label: "Value", name: "value", widget: "string" }
              - { label: "Label", name: "label", widget: "string" }

      # About Page
      - name: "about"
        label: "üè´ About Page"
        file: "_data/pages/about.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string", default: "About KP International School" }
          - { label: "Intro Text", name: "intro", widget: "markdown" }
          - { label: "Vision Statement", name: "vision", widget: "text" }
          - { label: "Mission Statement", name: "mission", widget: "text" }
          - label: "Core Values"
            name: "values"
            widget: "list"
            field: { label: "Value", name: "value", widget: "string" }
          - label: "School History Timeline"
            name: "timeline"
            widget: "list"
            fields:
              - { label: "Year", name: "year", widget: "string" }
              - { label: "Title", name: "title", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }

      # Academics Page
      - name: "academics"
        label: "üìö Academics Page"
        file: "_data/pages/academics.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string", default: "Academics" }
          - { label: "Overview Text", name: "overview", widget: "markdown" }
          - label: "Sections"
            name: "sections"
            widget: "list"
            fields:
              - { label: "Section Name", name: "name", widget: "string" }
              - { label: "Classes", name: "classes", widget: "string" }
              - { label: "Age Group", name: "age_group", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }
              - label: "Subjects"
                name: "subjects"
                widget: "list"
                field: { label: "Subject", name: "subject", widget: "string" }

      # Facilities Page
      - name: "facilities"
        label: "üèóÔ∏è Facilities Page"
        file: "_data/pages/facilities.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string", default: "School Facilities" }
          - { label: "Intro Text", name: "intro", widget: "text" }
          - label: "Facilities List"
            name: "facilities"
            widget: "list"
            fields:
              - { label: "Facility Name", name: "name", widget: "string" }
              - { label: "Icon Emoji", name: "icon", widget: "string", hint: "Use an emoji e.g. üè´ üñ•Ô∏è üìñ" }
              - { label: "Description", name: "description", widget: "text" }
              - label: "Features"
                name: "features"
                widget: "list"
                field: { label: "Feature", name: "feature", widget: "string" }

      # Contact Page
      - name: "contact"
        label: "üìû Contact Page"
        file: "_data/pages/contact.json"
        fields:
          - { label: "Page Title", name: "title", widget: "string", default: "Contact Us" }
          - { label: "Intro Text", name: "intro", widget: "text" }
          - { label: "School Name", name: "school_name", widget: "string", default: "KP International School (KPIS)" }
          - { label: "Phone Number", name: "phone", widget: "string", default: "+91 94148 50460" }
          - { label: "Email Address", name: "email", widget: "string", default: "kpinternational2015@gmail.com" }
          - { label: "Full Address", name: "address", widget: "text", default: "Karni Vihar, Chitwari Road, Morija Village, Chomu Tehsil, Jaipur District, Rajasthan ‚Äì 303805" }
          - { label: "School Hours", name: "school_hours", widget: "string", default: "8:00 AM ‚Äì 2:00 PM" }
          - { label: "Office Hours", name: "office_hours", widget: "string", default: "8:00 AM ‚Äì 4:00 PM" }

  # ----------------------------------------------------------
  # 2. NEWS POSTS ‚Äì Create and manage news articles
  # ----------------------------------------------------------
  - name: "news"
    label: "üì∞ News & Events"
    folder: "_data/news"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    summary: "{{title}} ({{date}})"
    fields:
      - { label: "Title", name: "title", widget: "string", required: true }
      - { label: "Publish Date", name: "date", widget: "datetime", required: true }
      - label: "Category"
        name: "category"
        widget: "select"
        options:
          - { label: "Announcement", value: "announcement" }
          - { label: "Academic", value: "academic" }
          - { label: "Sports", value: "sports" }
          - { label: "Cultural Event", value: "cultural" }
          - { label: "Environment", value: "environment" }
          - { label: "General", value: "general" }
        default: "announcement"
      - { label: "Summary / Excerpt", name: "summary", widget: "text", hint: "A short 1-2 sentence summary shown on the news listing page." }
      - { label: "Featured Image", name: "image", widget: "image", required: false, hint: "Upload a photo for this news article (JPG/PNG, landscape preferred)." }
      - { label: "Full Article Content", name: "body", widget: "markdown", required: true }
      - { label: "Published", name: "published", widget: "boolean", default: true, hint: "Uncheck to save as draft and hide from website." }

  # ----------------------------------------------------------
  # 3. GALLERY ‚Äì Upload and caption school photos
  # ----------------------------------------------------------
  - name: "gallery"
    label: "üì∏ Photo Gallery"
    folder: "_data/gallery"
    create: true
    slug: "{{slug}}"
    summary: "{{title}} ‚Äì {{category}}"
    fields:
      - { label: "Photo Title / Caption", name: "title", widget: "string", required: true, hint: "E.g. Annual Sports Day 2025 or Smart Classroom Session" }
      - label: "Category"
        name: "category"
        widget: "select"
        options:
          - { label: "Campus", value: "campus" }
          - { label: "Events", value: "events" }
          - { label: "Sports", value: "sports" }
          - { label: "Academics", value: "academics" }
          - { label: "Other", value: "other" }
        default: "events"
      - { label: "Photo", name: "image", widget: "image", required: true, hint: "Drag & drop or click to upload. Recommended: 800√ó600px or larger, JPG/PNG." }
      - { label: "Description (optional)", name: "description", widget: "text", required: false, hint: "A short note about what this photo shows." }
      - { label: "Date Taken (optional)", name: "date", widget: "date", required: false }
      - { label: "Show on Homepage Teaser", name: "featured", widget: "boolean", default: false, hint: "Show this photo in the gallery teaser on the home page." }
      - { label: "Visible in Gallery", name: "published", widget: "boolean", default: true }
